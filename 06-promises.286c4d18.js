!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequirea42f;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var r={id:e,exports:{}};return t[e]=r,o.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},e.parcelRequirea42f=o);const r=new(o("1RFdb").default.Modal)("#exampleModal"),a={modal:document.querySelector("#exampleModal"),startBtn:document.querySelector("[data-start-btn]"),infoStart:document.querySelector("[data-info-start]"),infoWinner:document.querySelector("[data-info-winner]"),tableBody:document.querySelector(".table > tbody"),horsesList:document.querySelector(".horses"),modalTiile:document.querySelector("#exampleModalLabel"),modalBody:document.querySelector(".modal-body")},d=Array.from(document.querySelectorAll('input[name="horse"]')).map((e=>e.id));let i=0,l=null;function u(e){return new Promise((t=>{const n=(o=2e3,r=4e3,Math.floor(Math.random()*(r-o+1)+o));var o,r;setTimeout((()=>{t({horse:e,time:n})}),n)}))}function c(e,t){a.modalTiile.textContent=e,a.modalBody.textContent=t}function s(e){a.infoStart.textContent=e}function f(e){a.infoWinner.textContent=e}a.startBtn.addEventListener("click",(function(){if(a.startBtn.hasAttribute("disabled"))return;i+=1;const e=d.map(u);f(""),s("Забег начался! Ставки не принимаются"),function(e){Promise.race(e).then((({horse:e,time:t})=>{f(`Первым финиширует ${e} за время ${t}`);const n=function({horse:e,time:t,raceCounter:n}){return`\n  <tr>\n    <td>${n}</td>\n    <td>${e}</td>\n    <td>${t}</td>\n  </tr>`}({horse:e,time:t,raceCounter:i});var o;o=n,a.tableBody.insertAdjacentHTML("beforeend",o),s("Выберите лошадь и делайте ставки до начала забега"),function(e){l===e?(console.log("You win"),c("ПОЗДРАВЛЯЕМ",`${e} приносит Вам побегу в этом забеге`)):(console.log("you suck"),c("СОБОЛЕЗНУЕМ",`${l} проигрывает забег, удача за ${e}`));r.show()}(e)}))}(e)})),a.horsesList.addEventListener("change",(function(e){l=e.target.id,a.startBtn.removeAttribute("disabled")}))}();
//# sourceMappingURL=06-promises.286c4d18.js.map
