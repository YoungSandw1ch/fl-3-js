{"mappings":"YAAA,MAAMA,EAAO,CACXC,SAAUC,SAASC,cAAc,QACjCC,SAAUF,SAASC,cAAc,eAkBnC,SAASE,EAAiBC,GACxB,OAAOA,EAAMC,IAAIC,GAAkBC,KAAK,G,CAG1C,SAASD,EAAiBE,GACxB,MAAMC,EAAS,GAEf,IAAK,IAAKC,EAAKC,KAAUC,OAAOC,QAAQL,GAE1B,OAARE,IAEJC,GAAQA,aAAA,EAAAA,EAAOG,OAAQH,EACnBA,EAAMI,MAAQJ,EAAMK,QAAUL,EAAMM,QACtCN,EAAQ,GAAGA,aAAA,EAAAA,EAAOI,SAASJ,aAAA,EAAAA,EAAOK,WAAWL,aAAA,EAAAA,EAAOM,SAGtDR,EAAOS,KAAK,SAUMC,EAVgBT,EAW7BS,EAAOC,OAAO,GAAGC,cAAgBF,EAAOG,MAAM,WAXJX,UAUnD,IAAsBQ,EAPpB,MAAO,OAASV,EAAOF,KAAK,IAAM,O,CAGpC,SAASgB,EAAWd,GAClBX,EAAKI,SAASsB,mBAAmB,YAAaf,E,CAtChDX,EAAKC,SAAS0B,iBAAiB,SAAS,KAQ/BC,MAAM,8CAA8CC,MAAKC,IAC9D,IAAKA,EAAEC,GAAI,MAAM,IAAIC,MAAMF,EAAEG,QAE7B,OAAOH,EAAEI,MAAM,IATdL,KAAKxB,GACLwB,KAAKJ,GACLU,OAAMC,GAASC,QAAQC,IAAIF,IAAO,IAyE1BR,MAAM,uCAGhBC,MAAKC,GAAKA,EAAEI,SACZL,MAAKU,IACJF,QAAQC,IAAIC,EAAQ,IAErBJ,OAAMC,IACLC,QAAQC,IAAIF,EAAM,G","sources":["src/js/07-ajax.js"],"sourcesContent":["const refs = {\n  fetchBtn: document.querySelector('.btn'),\n  userList: document.querySelector('.user-list'),\n};\n\nrefs.fetchBtn.addEventListener('click', () => {\n  onUsersFetch()\n    .then(createListMarkup)\n    .then(renderList)\n    .catch(error => console.log(error));\n});\n\nfunction onUsersFetch() {\n  return fetch('https://jsonplaceholder.typicode.com/users').then(r => {\n    if (!r.ok) throw new Error(r.status);\n\n    return r.json();\n  });\n}\n\nfunction createListMarkup(users) {\n  return users.map(createUserMarkup).join('');\n}\n\nfunction createUserMarkup(user) {\n  const markup = [];\n\n  for (let [key, value] of Object.entries(user)) {\n    //if need to ignore id\n    if (key === 'id') continue;\n    //or write condition, when value is object - skip this value\n    value = value?.name || value;\n    if (value.city && value.street && value.suite) {\n      value = `${value?.city}, ${value?.street}, ${value?.suite}`;\n    }\n\n    markup.push(`<p><b>${toCapitalize(key)}: </b>${value}</p>`);\n  }\n\n  return '<li>' + markup.join('') + '</li>';\n}\n\nfunction renderList(markup) {\n  refs.userList.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction toCapitalize(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\n///==============not used function================\n// function flattedUserAdressAndCompany(user) {\n//   const userObj = {};\n\n//   for (let [key, value] of Object.entries(user)) {\n//     value = value?.name || value;\n//     if (value.city && value.street && value.suite) {\n//       value = `${value?.city}, ${value?.street}, ${value?.suite}`;\n//     }\n//     userObj[key] = value;\n//   }\n\n//   console.log(userObj);\n//   return userObj;\n// }\n\n//=====================URLSearchParams=================\n\n// const searchParams = new URLSearchParams({\n//   _limit: 7,\n//   _sort: 'name',\n// });\n\n// console.log(searchParams);\n// console.log(searchParams.toString());\n\n// const url = `https://jsonplaceholder.typicode.com/users?${searchParams}`;\n\n// console.log(url);\n\n//=======================================================\n\nconst poke = fetch('https://pokeapi.co/api/v2/pokemon/1');\n\npoke\n  .then(r => r.json())\n  .then(pokemon => {\n    console.log(pokemon);\n  })\n  .catch(error => {\n    console.log(error);\n  });\n"],"names":["$c1062c8acda470cc$var$refs","fetchBtn","document","querySelector","userList","$c1062c8acda470cc$var$createListMarkup","users","map","$c1062c8acda470cc$var$createUserMarkup","join","user","markup","key","value","Object","entries","name","city","street","suite","push","string","charAt","toUpperCase","slice","$c1062c8acda470cc$var$renderList","insertAdjacentHTML","addEventListener","fetch","then","r","ok","Error","status","json","catch","error","console","log","pokemon"],"version":3,"file":"07-ajax.8bd6cf54.js.map"}